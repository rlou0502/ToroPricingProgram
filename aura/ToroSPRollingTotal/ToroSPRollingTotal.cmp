<aura:component >
	<aura:registerEvent name="spDistRespChangeEvent" type="c:ToroSPDistRespChangeEvent" />
	<aura:attribute name="quote" type="SObject" />
	<aura:attribute name="distributorResponsibilities" type="Map" />
	<aura:attribute name="selectedDistributorResponsibility" type="Decimal" />
    <aura:attribute name="showDistributorResponsibility" type="Boolean" />
    
	<!-- <aura:method name="updateRollingTotals" action="{!c.updateRollingTotals}" description="" /> -->
	<ul class="slds-grid slds-page-header__detail-row rolling_total" style="margin-top:20px;margin-left:15px;">
		<li class="slds-page-header__detail-block">
			<p class="slds-text-title_caps slds-m-bottom_small" title="Support Plus Allowance">Support Plus Allowance</p>
			<p class="slds-text-body_regular" title="{!v.quote.Toro_Support_Plus_Allowance__c}">
				<lightning:formattedNumber value="{!v.quote.Toro_Support_Plus_Allowance__c}" style="currency" />
				<aura:renderIf isTrue="{!v.quote.Toro_Support_Plus_Allowance__c == 0}">
					&nbsp; (no allowance for current quote Total DNet)
				</aura:renderIf>
			</p>
		</li>
		<li class="slds-page-header__detail-block">
			<p class="slds-text-title_caps slds-m-bottom_small" title="Support Plus Allowance Used">Support Plus Allowance Used</p>
			<p class="slds-text-body_regular" title="{!v.quote.Toro_Support_Plus_Allowance_Used__c}">
				<lightning:formattedNumber value="{!v.quote.Toro_Support_Plus_Allowance_Used__c}" style="currency" />
			</p>
		</li>
		<li class="slds-page-header__detail-block">
			<p class="slds-text-title_caps slds-m-bottom_small" title="Extended Total DNet Price">EXT DNET</p>
			<p class="slds-text-body_regular" title="{!v.quote.SP_Total_Extended_DNET__c}">
				<lightning:formattedNumber value="{!v.quote.SP_Total_Extended_DNET__c}" style="currency" />
			</p>
		</li>
		<li class="slds-page-header__detail-block">
			
                <aura:if isTrue="{!v.showDistributorResponsibility}">
                    <p>
                        <lightning:select class="slds-text-title_caps" name="selectItem" label="Distributor Responsibility (%)" onchange="{!c.handleDistRespChange}" value="{!v.selectedDistributorResponsibility}">
                            <aura:iteration var="distResp" items="{!v.distributorResponsibilities}" >
                                <option value="{!distResp.value}" selected="{!distResp.selected}">{!distResp.label}</option>
                            </aura:iteration>
                        </lightning:select>
                    </p>
                    <aura:set attribute="else">
                        <p class="slds-text-title_caps slds-m-bottom_small" title="Distributor Responsibility (%)">Distributor Responsibility (%)</p>
                        <p class="slds-text-body_regular" >
                            <lightning:formattedNumber value="{!v.quote.Distributor_Responsibility__c/100}" style="percent" />
                        </p>
                    </aura:set>
                </aura:if>
			
		</li>
		<li class="slds-page-header__detail-block">
			<p class="slds-text-title_caps slds-m-bottom_small" title="Toro Contribution">Toro Contribution</p>
			<p class="slds-text-body_regular" title="{!v.quote.SP_Toro_Responsibility__c}">
				<lightning:formattedNumber value="{!v.quote.SP_Toro_Responsibility__c}" style="currency" />
			</p>
		</li>
	</ul>
</aura:component>